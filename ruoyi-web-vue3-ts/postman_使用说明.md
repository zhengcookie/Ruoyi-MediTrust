# 云链·医问平台API接口文档使用说明

## 导入说明

1. 下载 `postman_api_documentation.json` 文件
2. 打开 Postman 应用程序
3. 点击左上角的 "Import" 按钮
4. 选择下载的 JSON 文件
5. 导入成功后，将在左侧面板中显示名为 "医疗平台API" 的集合

## 环境配置

所有API接口已直接使用实际地址 `http://175.178.241.129/prod-api`，无需再设置baseUrl变量。

使用前仍需设置认证令牌环境变量：

1. 点击右上角的 "环境" 图标 ⚙️
2. 选择 "添加" 创建新环境
3. 添加以下变量：
   - `token`: 认证令牌（登录后获取）

## 认证流程

1. 使用 "用户登录" 接口获取 token
2. 登录成功后，从返回的数据中提取 token
3. 将 token 值设置到环境变量中：
   - 点击右上角环境变量 ⚙️
   - 找到刚创建的环境
   - 填入 token 的值
   - 点击 "更新"

## 接口分组

接口按功能分为四大类：

1. **用户管理**：包含用户注册、登录、信息查询等接口
2. **预约管理**：包含预约创建、查询、更新、删除等接口
3. **病历管理**：包含病历创建、查询、更新、删除等接口
4. **系统信息**：包含区块链信息和用户统计信息查询接口

## 测试流程示例

### 完整测试流程

1. 调用 "用户注册" 接口注册新用户
2. 调用 "用户登录" 接口登录系统，并将返回的 token 设置到环境变量
3. 调用 "获取用户信息" 接口验证认证是否成功
4. 测试其他接口功能

### 预约流程测试

1. 调用 "创建预约" 接口
2. 使用返回的 appointmentId 调用 "获取预约详情" 接口
3. 调用 "更新预约" 接口修改预约信息
4. 调用 "完成预约" 接口标记预约已完成
5. 调用 "获取用户预约列表" 接口验证预约状态

### 病历流程测试

1. 调用 "创建病历" 接口
2. 使用返回的 recordId 调用 "获取病历详情" 接口
3. 调用 "更新病历" 接口修改病历信息
4. 调用 "完成病历" 接口标记病历已完成
5. 调用 "获取用户病历列表" 接口验证病历状态

## 注意事项

- 所有API接口已直接配置为 `http://175.178.241.129/prod-api`，无需再设置地址
- 只需配置token环境变量用于身份认证
- 登录相关的接口不需要 token 认证，其他接口都需要 token
- 日期时间参数使用时间戳格式（毫秒）
- 测试时建议按照业务流程顺序调用接口
- 出现错误时，检查接口参数和认证信息是否正确
- 后台使用的是RuoYi框架(v3.8.0)，API接口遵循该框架的规范
- 系统管理相关接口遵循RuoYi标准路径结构，如：`/system/user/profile`
- 注意：直接访问 `/getInfo` 会返回框架信息而非用户信息，已修正为正确的路径 